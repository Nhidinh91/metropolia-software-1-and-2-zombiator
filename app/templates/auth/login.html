{% extends 'base.html' %}

{% block title %}Authentication{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block containerClass %} container w-100 h-100 {% endblock %}

{% block header %}{% endblock %}

{% block content %}
<main class="form-signin w-100 h-100">
    <div class="logo text-center mt-5">
        <img class="img-fluid" src="{{ url_for('static', filename='images/logo.png') }}" alt="Zombiator">
    </div>
    <div class="content text-center d-grid">
        <div class="my-3">
            <div class="form-floating">
                <input type="text" class="form-control email" id="email" placeholder="Email" required
                    autocomplete="off">
                <div class="invalid-feedback">
                    Please enter a valid email.
                </div>
                <label for="email">Enter your email</label>
            </div>

            <div class="form-floating my-1">
                <input type="password" class="form-control password" id="password" placeholder="Password" required
                    autocomplete="off">
                <div class="invalid-feedback">
                    Please enter a valid password.
                </div>
                <label for="password">Enter your password</label>
            </div>
        </div>
        <div class="mb-3 d-grid gap-2 justify-content-center align-items-center">
            <a class="btn btn-primary p-0 start-game-button m-auto">
                <img class="img-fluid" src="{{ url_for('static', filename='images/play-icon.png') }}" alt="Start game">
            </a>
            <div class="d-flex gap-2">
                <button class="btn other-game-button m-auto p-0" data-bs-toggle="modal"
                    data-bs-target=".game-info-modal">
                    <img class="img-fluid h-100" src="{{ url_for('static', filename='images/game_info.png') }}"
                        alt="Game Info">
                </button>
                <button class="btn other-game-button m-auto p-0" data-bs-toggle="modal"
                    data-bs-target=".game-play-modal">
                    <img class="img-fluid h-100" src="{{ url_for('static', filename='images/game_play.png') }}"
                        alt="Game Play">
                </button>
            </div>
        </div>
    </div>
</main>

<div class="modal fade game-info-modal" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body text-center">
                <div class="slider-container position-relative">
                    <div class="slides">
                        <div class="slide-item fade-animation">
                            <img class="img-fluid" src="{{ url_for('static', filename='images/game_info_1.png') }}"
                                alt="Game Info 1">
                        </div>

                        <div class="slide-item fade-animation">
                            <img class="img-fluid" src="{{ url_for('static', filename='images/game_info_2.png') }}"
                                alt="Game Info 2">
                        </div>

                        <div class="slide-item fade-animation">
                            <img class="img-fluid" src="{{ url_for('static', filename='images/game_info_3.png') }}"
                                alt="Game Info 3">
                        </div>

                    </div>

                    <div class="buttons-container">
                        <a class="prev" onclick="plusSlides(-1)"><i class="fas fa-chevron-left"></i></a>
                        <a class="next" onclick="plusSlides(1)"> <i class="fas fa-chevron-right"></i></a>
                    </div>

                    <div class="dots-container">
                        <span class="dot" onclick="currentSlide(1)"></span>
                        <span class="dot" onclick="currentSlide(2)"></span>
                        <span class="dot" onclick="currentSlide(3)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade game-play-modal" id="game-play-modal" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body text-center">
                <div class="video-container">
                    https://youtu.be/53F7XcFjoOQ
                    <iframe class="w-100 h-100" src="https://www.youtube.com/embed/dvaXOy4q1Bc"
                        title="YouTube video player"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}

<script>
    let slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        const slides = document.querySelectorAll(".slide-item");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) { slideIndex = 1 }
        if (n < 1) { slideIndex = slides.length }
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (let i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
    }
</script>

<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}